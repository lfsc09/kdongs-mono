FROM node:24.11-alpine AS build
WORKDIR /app

# Install Angular CLI
RUN npm install -g @angular/cli@21 --silent

COPY packages/frontend/package.json package-lock.json ./
RUN npm ci --silent
COPY packages/frontend ./
RUN ng build --configuration production

FROM scratch
COPY --from=build /app/dist/frontend/browser /app/dist/frontend/browser